<div class="app-shell" [class.app-shell--nav-open]="mobileNavOpen">
  <!-- SIDEBAR -->
  <aside
    class="sidebar"
    [class.sidebar--open]="mobileNavOpen"
    aria-label="NavegaÃ§Ã£o"
  >
    <div class="brand">
      <div class="brand__logo">Planeja<span>+</span></div>

      <button
        class="icon-btn sidebar__close"
        type="button"
        (click)="fecharNavMobile()"
        aria-label="Fechar menu"
      >
        âœ•
      </button>
    </div>

    <nav class="nav">
      <a
        class="nav__item"
        routerLink="/home"
        routerLinkActive="nav__item--active"
        (click)="fecharNavMobile()"
      >
        <span class="nav__icon">ğŸ </span>
        <span class="nav__text">Painel</span>
      </a>

      <a
        class="nav__item"
        routerLink="/transactions"
        routerLinkActive="nav__item--active"
        (click)="fecharNavMobile()"
      >
        <span class="nav__icon">ğŸ’¸</span>
        <span class="nav__text">TransaÃ§Ãµes</span>
      </a>

      <a
        class="nav__item"
        routerLink="/goals"
        routerLinkActive="nav__item--active"
        (click)="fecharNavMobile()"
      >
        <span class="nav__icon">ğŸ¯</span>
        <span class="nav__text">Metas</span>
      </a>

      <!-- se /reports ainda nÃ£o existe, REMOVA esse item pra nÃ£o virar â€œlink mortoâ€ -->
      <!-- <a
        class="nav__item"
        routerLink="/reports"
        routerLinkActive="nav__item--active"
        (click)="fecharNavMobile()"
      >
        <span class="nav__icon">ğŸ“Š</span>
        <span class="nav__text">RelatÃ³rios</span>
      </a> -->

      <a
        class="nav__item"
        routerLink="/profile"
        routerLinkActive="nav__item--active"
        (click)="fecharNavMobile()"
      >
        <span class="nav__icon">âš™ï¸</span>
        <span class="nav__text">ConfiguraÃ§Ãµes</span>
      </a>

      <button
        class="nav__item nav__item--danger"
        type="button"
        (click)="logout()"
      >
        <span class="nav__icon">â‹</span>
        <span class="nav__text">Sair</span>
      </button>
    </nav>

    <div class="sidebar__footer">
      <div class="mini-card">
        <div class="mini-card__title">Dica rÃ¡pida</div>
        <div class="mini-card__text">
          Use â€œBuscarâ€ para filtrar por categoria, tipo ou valor.
        </div>
      </div>
    </div>
  </aside>

  <!-- OVERLAY MOBILE -->
  <div
    class="overlay"
    *ngIf="mobileNavOpen"
    (click)="fecharNavMobile()"
    aria-hidden="true"
  ></div>

  <!-- MAIN -->
  <div class="main">
    <header class="topbar">
      <button
        class="icon-btn topbar__menu"
        type="button"
        (click)="mobileNavOpen = true"
        aria-label="Abrir menu"
      >
        â˜°
      </button>

      <div class="ui-searchbar ui-searchbar--advanced" role="search">
        <span class="ui-searchbar__icon">ğŸ”</span>

        <select
          class="ui-searchbar__select"
          [(ngModel)]="tipoBusca"
          (ngModelChange)="onTipoBuscaChange()"
          aria-label="Tipo de busca"
        >
          <option value="categoria">Categoria</option>
          <option value="tipo">Tipo</option>
          <option value="valor">Valor</option>
        </select>

        <input
          *ngIf="tipoBusca !== 'valor'; else valorInputs"
          class="ui-searchbar__input"
          type="text"
          placeholder="Ex: AlimentaÃ§Ã£o | entrada | saÃ­da"
          [(ngModel)]="textoBusca"
          (keyup.enter)="executarBusca()"
        />

        <ng-template #valorInputs>
          <input
            class="ui-searchbar__input ui-searchbar__input--sm"
            type="number"
            placeholder="Min"
            [(ngModel)]="valorMin"
            (keyup.enter)="executarBusca()"
          />
          <input
            class="ui-searchbar__input ui-searchbar__input--sm"
            type="number"
            placeholder="Max"
            [(ngModel)]="valorMax"
            (keyup.enter)="executarBusca()"
          />
        </ng-template>

        <button
          class="ui-searchbar__btn"
          type="button"
          (click)="executarBusca()"
        >
          Buscar
        </button>
        <button
          class="ui-searchbar__btn ui-searchbar__btn--ghost"
          type="button"
          (click)="limparFiltros()"
        >
          Limpar
        </button>
      </div>
    </header>

    <main class="content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
